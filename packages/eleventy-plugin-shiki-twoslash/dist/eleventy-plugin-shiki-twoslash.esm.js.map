{"version":3,"file":"eleventy-plugin-shiki-twoslash.esm.js","sources":["../src/index.ts"],"sourcesContent":["import {\n  setupForFile,\n  transformAttributesToHTML,\n} from \"@olets/remark-shiki-twoslash\";\n\n// H/t https://github.com/shikijs/twoslash/issues/193#issue-2056662905\n\n/**\n * @param {import(\"@11ty/eleventy\").UserConfig} eleventyConfig\n * @param {import(\"@olets/shiki-twoslash\").UserConfigSettings} options\n */\nexport default async function (eleventyConfig, options = {}): Promise<void> {\n  const { highlighters } = await setupForFile(options);\n\n  eleventyConfig.addMarkdownHighlighter((code, lang, fence) => {\n    code = code.replace(/\\r?\\n$/, \"\"); // strip trailing newline fed during code block parsing\n    return transformAttributesToHTML(\n      code,\n      [lang, fence].join(\" \"),\n      highlighters,\n      options\n    );\n  });\n}\n"],"names":["_x","_x2","_ref","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","eleventyConfig","options","_yield$setupForFile","highlighters","wrap","_callee$","_context","prev","next","setupForFile","sent","addMarkdownHighlighter","code","lang","fence","replace","transformAttributesToHTML","join","stop"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA;AAEA;;;;gBAIAA,EAAA,EAAAC,GAAA;EAAA,OAAAC,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAYC,SAAAF;EAAAA,IAAA,GAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAZc,SAAAC,QAAgBC,cAAc,EAAEC,OAAO;IAAA,IAAAC,mBAAA,EAAAC,YAAA;IAAA,OAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAA,IAAPP,OAAO;YAAPA,OAAO,GAAG,EAAE;;UAAAK,QAAA,CAAAE,IAAA;UAAA,OAC1BC,YAAY,CAACR,OAAO,CAAC;QAAA;UAAAC,mBAAA,GAAAI,QAAA,CAAAI,IAAA;UAA5CP,YAAY,GAAAD,mBAAA,CAAZC,YAAY;UAEpBH,cAAc,CAACW,sBAAsB,CAAC,UAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK;YACtDF,IAAI,GAAGA,IAAI,CAACG,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;YAClC,OAAOC,yBAAyB,CAC9BJ,IAAI,EACJ,CAACC,IAAI,EAAEC,KAAK,CAAC,CAACG,IAAI,CAAC,GAAG,CAAC,EACvBd,YAAY,EACZF,OAAO,CACR;WACF,CAAC;QAAC;QAAA;UAAA,OAAAK,QAAA,CAAAY,IAAA;;OAAAnB,OAAA;GACJ;EAAA,OAAAN,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;;;;"}