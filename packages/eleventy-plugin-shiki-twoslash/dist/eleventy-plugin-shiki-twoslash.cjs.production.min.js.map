{"version":3,"file":"eleventy-plugin-shiki-twoslash.cjs.production.min.js","sources":["../src/index.ts"],"sourcesContent":["import {\n  setupForFile,\n  transformAttributesToHTML,\n} from \"@olets/remark-shiki-twoslash\";\n\n// H/t https://github.com/shikijs/twoslash/issues/193#issue-2056662905\n\n/**\n * @param {import(\"@11ty/eleventy\").UserConfig} eleventyConfig\n * @param {import(\"@olets/shiki-twoslash\").UserConfigSettings} options\n */\nexport default async function (eleventyConfig, options = {}): Promise<void> {\n  const { highlighters } = await setupForFile(options);\n\n  eleventyConfig.addMarkdownHighlighter((code, lang, fence) => {\n    code = code.replace(/\\r?\\n$/, \"\"); // strip trailing newline fed during code block parsing\n    return transformAttributesToHTML(\n      code,\n      [lang, fence].join(\" \"),\n      highlighters,\n      options\n    );\n  });\n}\n"],"names":["_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","eleventyConfig","options","highlighters","wrap","_context","prev","next","setupForFile","sent","addMarkdownHighlighter","code","lang","fence","replace","transformAttributesToHTML","join","stop","apply","arguments","_x","_x2"],"mappings":"8wNAuBC,SAAAA,IAAA,OAAAA,EAAAC,EAAAC,IAAAC,MAZc,SAAAC,EAAgBC,EAAgBC,GAAO,IAAAC,EAAA,OAAAL,IAAAM,eAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAAK,gBAAZL,IAAAA,EAAU,IAAEG,EAAAE,OAC1BC,eAAaN,GAAQ,OAA5CC,EAA4CE,EAAAI,KAA5CN,aAERF,EAAeS,wBAAuB,SAACC,EAAMC,EAAMC,GAEjD,OADAF,EAAOA,EAAKG,QAAQ,SAAU,IACvBC,4BACLJ,EACA,CAACC,EAAMC,GAAOG,KAAK,KACnBb,EACAD,MAED,OAAA,UAAA,OAAAG,EAAAY,UAAAjB,QACJkB,WAAAC,oCAZDC,EAAAC,GAAA,OAAAzB,EAAAsB,WAAAC"}