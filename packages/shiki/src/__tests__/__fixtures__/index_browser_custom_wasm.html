<html>
  <head>
    <title>Test Browser - Custom Wasm</title>
    <link rel="modulepreload" href="/dist/index.browser.mjs" />
    <script type="module">
      import { getHighlighter, setWasm } from './dist/index.browser.mjs'

      const response = await fetch('/assets/dist/onig.wasm')
      setWasm(response)

      const highlighter = await getHighlighter({
        theme: 'nord',
        langs: ['html']
      })

      const code = highlighter.codeToHtml(`<div>My HTML</div>`, { lang: 'html' })
      document.getElementById('output').innerHTML = code
    </script>
  </head>
  <body>
    <div id="output"></div>
  </body>
</html>
